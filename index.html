<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love Quiz üíó</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@800&display=swap');

  body {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg, #ffd1e8, #ff9ecf);
    font-family: 'Baloo 2', cursive;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow-x: hidden;
  }

  .container {
    background: white;
    padding: 30px;
    width: 440px;
    border-radius: 30px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    text-align: center;
  }

  h1 {
    color: #ff4fa0;
    font-size: 32px;
  }

  .question {
    margin-top: 25px;
    font-size: 17px;
  }

  input {
    width: 100%;
    padding: 12px;
    margin-top: 10px;
    border-radius: 18px;
    border: 2px solid #ffb6d9;
    font-size: 16px;
    text-align: center;
  }

  button {
    margin-top: 12px;
    padding: 12px 22px;
    border: none;
    border-radius: 22px;
    background: #ff5fa2;
    color: white;
    font-size: 18px;
    cursor: pointer;
  }

  button:disabled {
    background: #ffc1dc;
    cursor: not-allowed;
  }

  .attempts {
    font-size: 14px;
    margin-top: 6px;
    color: #777;
  }

  .feedback {
    margin-top: 8px;
    font-size: 16px;
  }

  .final {
    display: none;
    margin-top: 30px;
  }

  /* üåπ Roses */
  .rose {
    position: fixed;
    top: -20px;
    font-size: 32px;
    animation: fall 6s linear forwards;
  }

  @keyframes fall {
    to {
      transform: translateY(120vh) rotate(360deg);
      opacity: 0;
    }
  }

  /* üí¨ Bubble */
  .bubble {
    position: fixed;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    background: #ff5fa2;
    color: white;
    padding: 30px 45px;
    border-radius: 40px;
    font-size: 28px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    text-align: left;
    white-space: pre-line;
    animation: pop 0.6s ease forwards;
  }

  @keyframes pop {
    to {
      transform: translate(-50%, -50%) scale(1);
    }
  }
</style>
</head>

<body>

<div class="container">
  <h1>üíó Love Quiz üíó</h1>

  <!-- QUESTIONS (UNCHANGED) -->
  <!-- ‚Ä¶ all your questions stay exactly the same ‚Ä¶ -->

  <!-- FINAL -->
  <div class="final" id="final">
    <h2>One last question‚Ä¶ üíó</h2>
    <p>What is my nickname for you?</p>
    <input id="finalAnswer">
    <button onclick="checkFinal()">Unlock üíï</button>
  </div>
</div>

<!-- üéµ LOVE SONG -->
<audio id="loveSong">
  <source src="lovesong.mp3" type="audio/mpeg">
</audio>

<script>
  const attempts = {1:3,2:3,3:3,4:3,5:3,6:3,7:3};
  let completed = 0;

  function checkAnswer(num, correct) {
    const input = document.getElementById(`q${num}`);
    const feedback = document.getElementById(`f${num}`);
    const attemptsText = document.getElementById(`a${num}`);
    const button = input.nextElementSibling;

    if (attempts[num] === 0) return;

    if (input.value.trim().toLowerCase() === correct) {
      feedback.textContent = "üíó Correct!";
      input.disabled = true;
      button.disabled = true;
      completed++;
    } else {
      attempts[num]--;
      attemptsText.textContent = `Attempts left: ${attempts[num]}`;
      feedback.textContent = attempts[num] === 0 ? "üíî Locked in‚Ä¶" : "‚ùå Try again!";
      if (attempts[num] === 0) {
        input.disabled = true;
        button.disabled = true;
        completed++;
      }
    }

    if (completed === 7) {
      document.getElementById("final").style.display = "block";
    }
  }

  function checkFinal() {
    const answer = document.getElementById("finalAnswer").value.trim().toLowerCase();
    if (answer === "hassnu" || answer === "hassnu pie") {
      launchRoses();
      showPoem();
      playSong();
    }
  }

  function playSong() {
    const song = document.getElementById("loveSong");
    song.currentTime = 0;
    song.play();
  }

  function launchRoses() {
    for (let i = 0; i < 60; i++) {
      const rose = document.createElement("div");
      rose.className = "rose";
      rose.textContent = "üåπ";
      rose.style.left = Math.random() * 100 + "vw";
      rose.style.animationDuration = 4 + Math.random() * 3 + "s";
      document.body.appendChild(rose);
      setTimeout(() => rose.remove(), 7000);
    }
  }

  function showPoem() {
    const bubble = document.createElement("div");
    bubble.className = "bubble";
    bubble.textContent =
`Hansum
Athletic
Sweet
Smart
Admirable
Nice`;
    document.body.appendChild(bubble);
  }
</script>

</body>
</html>
